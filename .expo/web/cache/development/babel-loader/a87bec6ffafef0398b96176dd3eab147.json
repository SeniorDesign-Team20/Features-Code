{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useContext, createContext, useEffect, useState } from 'react';\nimport { GoogleAuthProvider, signInWithPopup, signInWithRedirect, signOut, onAuthStateChanged } from 'firebase/auth';\nimport { auth } from \"./firebase\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar AuthContext = createContext();\nexport var AuthContextProvider = function AuthContextProvider(_ref) {\n  var children = _ref.children;\n  var _useState = useState({}),\n    _useState2 = _slicedToArray(_useState, 2),\n    user = _useState2[0],\n    setUser = _useState2[1];\n  var googleSignIn = function googleSignIn() {\n    var provider = new GoogleAuthProvider();\n    signInWithRedirect(auth, provider);\n  };\n  var logOut = function logOut() {\n    signOut(auth);\n  };\n  useEffect(function () {\n    var unsubscribe = onAuthStateChanged(auth, function (currentUser) {\n      setUser(currentUser);\n      console.log('User', currentUser);\n    });\n    return function () {\n      unsubscribe();\n    };\n  }, []);\n  return _jsx(AuthContext.Provider, {\n    value: {\n      googleSignIn: googleSignIn,\n      logOut: logOut,\n      user: user\n    },\n    children: children\n  });\n};\nexport var UserAuth = function UserAuth() {\n  return useContext(AuthContext);\n};","map":{"version":3,"names":["useContext","createContext","useEffect","useState","GoogleAuthProvider","signInWithPopup","signInWithRedirect","signOut","onAuthStateChanged","auth","AuthContext","AuthContextProvider","children","user","setUser","googleSignIn","provider","logOut","unsubscribe","currentUser","console","log","UserAuth"],"sources":["/Users/benyamintrachtenberg/Desktop/EC463/Features-Code/pages/Google_Login/AuthContext.js"],"sourcesContent":["import { useContext, createContext, useEffect, useState } from 'react';\nimport { GoogleAuthProvider, signInWithPopup, signInWithRedirect, signOut, onAuthStateChanged } from 'firebase/auth';\nimport { auth } from './firebase';\n\nconst AuthContext = createContext();\n\nexport const AuthContextProvider = ({ children }) => {\n  const [user, setUser] = useState({});\n\n  const googleSignIn = () => {\n    const provider = new GoogleAuthProvider();\n    // signInWithPopup(auth, provider);\n    signInWithRedirect(auth, provider)\n  };\n\n  const logOut = () => {\n      signOut(auth)\n  }\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, (currentUser) => {\n      setUser(currentUser);\n      console.log('User', currentUser)\n    });\n    return () => {\n      unsubscribe();\n    };\n  }, []);\n\n  return (\n    <AuthContext.Provider value={{ googleSignIn, logOut, user }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\nexport const UserAuth = () => {\n  return useContext(AuthContext);\n};"],"mappings":";AAAA,SAASA,UAAU,EAAEC,aAAa,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AACtE,SAASC,kBAAkB,EAAEC,eAAe,EAAEC,kBAAkB,EAAEC,OAAO,EAAEC,kBAAkB,QAAQ,eAAe;AACpH,SAASC,IAAI;AAAqB;AAElC,IAAMC,WAAW,GAAGT,aAAa,EAAE;AAEnC,OAAO,IAAMU,mBAAmB,GAAG,SAAtBA,mBAAmB,OAAqB;EAAA,IAAfC,QAAQ,QAARA,QAAQ;EAC5C,gBAAwBT,QAAQ,CAAC,CAAC,CAAC,CAAC;IAAA;IAA7BU,IAAI;IAAEC,OAAO;EAEpB,IAAMC,YAAY,GAAG,SAAfA,YAAY,GAAS;IACzB,IAAMC,QAAQ,GAAG,IAAIZ,kBAAkB,EAAE;IAEzCE,kBAAkB,CAACG,IAAI,EAAEO,QAAQ,CAAC;EACpC,CAAC;EAED,IAAMC,MAAM,GAAG,SAATA,MAAM,GAAS;IACjBV,OAAO,CAACE,IAAI,CAAC;EACjB,CAAC;EAEDP,SAAS,CAAC,YAAM;IACd,IAAMgB,WAAW,GAAGV,kBAAkB,CAACC,IAAI,EAAE,UAACU,WAAW,EAAK;MAC5DL,OAAO,CAACK,WAAW,CAAC;MACpBC,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEF,WAAW,CAAC;IAClC,CAAC,CAAC;IACF,OAAO,YAAM;MACXD,WAAW,EAAE;IACf,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,OACE,KAAC,WAAW,CAAC,QAAQ;IAAC,KAAK,EAAE;MAAEH,YAAY,EAAZA,YAAY;MAAEE,MAAM,EAANA,MAAM;MAAEJ,IAAI,EAAJA;IAAK,CAAE;IAAA,UACzDD;EAAQ,EACY;AAE3B,CAAC;AAED,OAAO,IAAMU,QAAQ,GAAG,SAAXA,QAAQ,GAAS;EAC5B,OAAOtB,UAAU,CAACU,WAAW,CAAC;AAChC,CAAC"},"metadata":{},"sourceType":"module"}